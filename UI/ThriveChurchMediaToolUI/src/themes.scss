/* ===== CSS CUSTOM PROPERTIES FOR THEMING ===== */

/* Base theme variables - these will be overridden by theme classes */
:root {
  /* Primary Brand Colors */
  --color-primary: #54baca;
  --color-primary-hover: #3da4b5;
  --color-primary-active: #2e8a96;
  
  --color-secondary: #A9BCD0;
  --color-secondary-hover: #8fa8c1;
  --color-secondary-active: #7594b2;
  
  --color-tertiary: #343A40;
  --color-tertiary-hover: #23272b;
  --color-tertiary-active: #1a1e21;
  
  /* Background Colors */
  --color-background: #ffffff;
  --color-background-secondary: #f8f9fa;
  --color-background-tertiary: #e9ecef;
  
  /* Text Colors */
  --color-text-primary: #212529;
  --color-text-secondary: #6c757d;
  --color-text-muted: #c8d0d8;
  --color-text-inverse: #ffffff;
  
  /* Border Colors */
  --color-border: #dee2e6;
  --color-border-light: #e9ecef;
  --color-border-dark: #adb5bd;
  
  /* Component Specific Colors */
  --color-navbar-bg: #1B1B1E;
  --color-navbar-text: rgba(255,255,255,.5);
  --color-navbar-text-hover: rgba(255,255,255,.75);
  --color-navbar-text-active: rgba(255,255,255,.75);
  
  /* Submit Button Colors */
  --color-submit-button: #5F9FA8;
  --color-submit-button-hover: #5096A0;
  --color-submit-button-active: #427B83;
  --color-submit-button-focus: #498992;
  
  /* Dropdown Colors */
  --color-dropdown-item: #343A40;
  --color-dropdown-item-hover: #343A40;
  --color-dropdown-item-focus: #D8DBE2;
  --color-dropdown-item-active: #B0C2D4;
  
  /* Toast Message Colors */
  --color-toast-success: #abf3ae;
  --color-toast-error: #f5aca6;
  
  /* Message Summary Colors */
  --color-message-border: #dfdfdf;
  --color-youtube: #F00;
  --color-action-icon: deepskyblue;
  --color-action-icon-hover: rgb(0, 162, 216);

  /* Waveform Colors */
  --color-waveform-wave: #4a90e2;
  --color-waveform-progress: #1e3a8a;

  /* Series Item Colors */
  --color-series-overlay: rgba(210, 210, 210, 0.67);
  --color-series-overlay-text: black;
  --color-series-title: #333;
  --color-series-link: deepskyblue;
  
  /* Stats Colors */
  --color-stats-header: gray;
  --color-stats-details: #AAA;
  --color-stats-background: whitesmoke;
  
  /* Dashboard Colors */
  --color-dashboard-link: #0645AD;
  
  /* Interactive Colors */
  --color-interactive-light: #5F9FA8;
  
  /* Login Modal Colors */
  --color-login-modal: #5096A0;
}

/* ===== LIGHT THEME ===== */
.light-theme {
  /* Primary Brand Colors - same as current */
  --color-primary: #54baca;
  --color-primary-hover: #3da4b5;
  --color-primary-active: #2e8a96;
  
  --color-secondary: #A9BCD0;
  --color-secondary-hover: #8fa8c1;
  --color-secondary-active: #7594b2;
  
  --color-tertiary: #343A40;
  --color-tertiary-hover: #23272b;
  --color-tertiary-active: #1a1e21;
  
  /* Background Colors */
  --color-background: #ffffff;
  --color-background-secondary: #f8f9fa;
  --color-background-tertiary: #e9ecef;
  
  /* Text Colors */
  --color-text-primary: #212529;
  --color-text-secondary: #6c757d;
  --color-text-muted: #adb5bd;
  --color-text-inverse: #ffffff;
  
  /* Border Colors */
  --color-border: #dee2e6;
  --color-border-light: #e9ecef;
  --color-border-dark: #adb5bd;
  
  /* Component Specific Colors */
  --color-navbar-bg: #1B1B1E;
  --color-navbar-text: rgba(255,255,255,.5);
  --color-navbar-text-hover: rgba(255,255,255,.75);
  --color-navbar-text-active: rgba(255,255,255,.75);
  
  /* Submit Button Colors */
  --color-submit-button: #5F9FA8;
  --color-submit-button-hover: #5096A0;
  --color-submit-button-active: #427B83;
  --color-submit-button-focus: #498992;
  
  /* Dropdown Colors */
  --color-dropdown-item: #343A40;
  --color-dropdown-item-hover: #343A40;
  --color-dropdown-item-focus: #D8DBE2;
  --color-dropdown-item-active: #B0C2D4;
  
  /* Toast Message Colors */
  --color-toast-success: #abf3ae;
  --color-toast-error: #f5aca6;
  
  /* Message Summary Colors */
  --color-message-border: #dfdfdf;
  --color-youtube: #F00;
  --color-action-icon: deepskyblue;
  --color-action-icon-hover: rgb(0, 162, 216);

  /* Waveform Colors */
  --color-waveform-wave: #4a90e2;
  --color-waveform-progress: #1e3a8a;

  /* Series Item Colors */
  --color-series-overlay: rgba(210, 210, 210, 0.67);
  --color-series-overlay-text: black;
  --color-series-title: #333;
  --color-series-link: deepskyblue;
  
  /* Stats Colors */
  --color-stats-header: gray;
  --color-stats-details: #AAA;
  --color-stats-background: whitesmoke;
  
  /* Dashboard Colors */
  --color-dashboard-link: #0645AD;
  
  /* Interactive Colors */
  --color-interactive-light: #5F9FA8;
  
  /* Login Modal Colors */
  --color-login-modal: #5096A0;

  /* Date Picker Colors */
  --date-picker-icon-filter: none;

  /* Toast Close Button Colors */
  --close-button-filter: none;

  /* Skeleton Loader Colors */
  --skeleton-background: #f2f2f2;
  --skeleton-animation: #e0e0e0;
}

/* ===== DARK THEME ===== */
.dark-theme {
  /* Primary Brand Colors - adjusted for dark mode */
  --color-primary: #54baca;
  --color-primary-hover: #6bc4d4;
  --color-primary-active: #82cede;
  
  --color-secondary: #A9BCD0;
  --color-secondary-hover: #b9c9da;
  --color-secondary-active: #c9d6e4;
  
  --color-tertiary: #6c757d;
  --color-tertiary-hover: #7c858d;
  --color-tertiary-active: #8c959d;
  
  /* Background Colors */
  --color-background: #121212;
  --color-background-secondary: #1e1e1e;
  --color-background-tertiary: #2d2d2d;
  
  /* Text Colors */
  --color-text-primary: #ffffff;
  --color-text-secondary: #b3b3b3;
  --color-text-muted: #a0a0a0;
  --color-text-inverse: #121212;
  
  /* Border Colors */
  --color-border: #404040;
  --color-border-light: #333333;
  --color-border-dark: #555555;
  
  /* Component Specific Colors */
  --color-navbar-bg: #1B1B1E;
  --color-navbar-text: rgba(255,255,255,.7);
  --color-navbar-text-hover: rgba(255,255,255,.9);
  --color-navbar-text-active: rgba(255,255,255,.9);
  
  /* Submit Button Colors */
  --color-submit-button: #5F9FA8;
  --color-submit-button-hover: #6faab3;
  --color-submit-button-active: #7fb5be;
  --color-submit-button-focus: #8fc0c9;
  
  /* Dropdown Colors */
  --color-dropdown-item: #ffffff;
  --color-dropdown-item-hover: #ffffff;
  --color-dropdown-item-focus: #404040;
  --color-dropdown-item-active: #555555;
  
  /* Toast Message Colors */
  --color-toast-success: #4caf50;
  --color-toast-error: #f44336;
  
  /* Message Summary Colors */
  --color-message-border: #404040;
  --color-youtube: #FF4444;
  --color-action-icon: #64b5f6;
  --color-action-icon-hover: #90caf9;

  /* Waveform Colors */
  --color-waveform-wave: #64b5f6;
  --color-waveform-progress: #42a5f5;

  /* Series Item Colors */
  --color-series-overlay: rgba(50, 50, 50, 0.8);
  --color-series-overlay-text: white;
  --color-series-title: #ffffff;
  --color-series-link: #64b5f6;
  
  /* Stats Colors */
  --color-stats-header: #b3b3b3;
  --color-stats-details: #888888;
  --color-stats-background: #2d2d2d;
  
  /* Dashboard Colors */
  --color-dashboard-link: #64b5f6;
  
  /* Interactive Colors */
  --color-interactive-light: #6faab3;
  
  /* Login Modal Colors */
  --color-login-modal: #6faab3;

  /* Date Picker Colors */
  --date-picker-icon-filter: invert(0.8) brightness(1.2);

  /* Toast Close Button Colors */
  --close-button-filter: invert(1);

  /* Skeleton Loader Colors */
  --skeleton-background: #2d2d2d;
  --skeleton-animation: #404040;
}

/* ===== THEME TRANSITION ANIMATIONS ===== */
* {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Disable transitions for elements that shouldn't animate */
.no-theme-transition,
.no-theme-transition * {
  transition: none !important;
}

/* ===== BOOTSTRAP FORM CONTROLS THEMING ===== */
.form-control {
  background-color: var(--color-background) !important;
  border-color: var(--color-border) !important;
  color: var(--color-text-primary) !important;
}

.form-control:focus {
  background-color: var(--color-background) !important;
  border-color: var(--color-primary) !important;
  color: var(--color-text-primary) !important;
  box-shadow: 0 0 0 0.2rem rgba(84, 186, 202, 0.25) !important;
}

.form-floating > label {
  color: var(--color-text-secondary) !important;
}

.form-floating > .form-control:focus + label,
.form-floating > .form-control:not(:placeholder-shown) + label {
  color: var(--color-primary) !important;
}

/* ===== DISABLED FORM CONTROLS THEMING ===== */
.form-control:disabled,
.form-control[disabled] {
  background-color: var(--color-background-secondary) !important;
  border-color: var(--color-border) !important;
  color: var(--color-text-secondary) !important;
  opacity: 0.8 !important;
}

.form-floating > .form-control:disabled + label,
.form-floating > .form-control[disabled] + label {
  color: var(--color-text-secondary) !important;
}

/* ===== FILE INPUT THEMING ===== */
.form-control[type="file"] {
  background-color: var(--color-background) !important;
  border-color: var(--color-border) !important;
  color: var(--color-text-primary) !important;
}

.form-control[type="file"]:focus {
  background-color: var(--color-background) !important;
  border-color: var(--color-primary) !important;
  color: var(--color-text-primary) !important;
  box-shadow: 0 0 0 0.2rem rgba(84, 186, 202, 0.25) !important;
}

.form-control[type="file"]::file-selector-button {
  background-color: var(--color-background-secondary) !important;
  border-color: var(--color-border) !important;
  color: var(--color-text-primary) !important;
  border: 1px solid var(--color-border) !important;
  border-radius: 0.375rem 0 0 0.375rem !important;
  margin-right: 0.75rem !important;
  padding: 0.375rem 0.75rem !important;
}

.form-control[type="file"]::file-selector-button:hover {
  background-color: var(--color-background-tertiary) !important;
  border-color: var(--color-border-dark) !important;
}

/* Webkit browsers (Chrome, Safari, Edge) */
.form-control[type="file"]::-webkit-file-upload-button {
  background-color: var(--color-background-secondary) !important;
  border-color: var(--color-border) !important;
  color: var(--color-text-primary) !important;
  border: 1px solid var(--color-border) !important;
  border-radius: 0.375rem 0 0 0.375rem !important;
  margin-right: 0.75rem !important;
  padding: 0.375rem 0.75rem !important;
  cursor: pointer;
}

.form-control[type="file"]::-webkit-file-upload-button:hover {
  background-color: var(--color-background-tertiary) !important;
  border-color: var(--color-border-dark) !important;
}

/* ===== DATE INPUT THEMING ===== */
/* Date input styling */
input[type="date"].form-control {
  background-color: var(--color-background) !important;
  border-color: var(--color-border) !important;
  color: var(--color-text-primary) !important;
  color-scheme: dark light; /* This tells the browser to use dark/light native controls */
}

input[type="date"].form-control:focus {
  background-color: var(--color-background) !important;
  border-color: var(--color-primary) !important;
  color: var(--color-text-primary) !important;
  box-shadow: 0 0 0 0.2rem rgba(84, 186, 202, 0.25) !important;
}

/* Date picker calendar icon styling - WebKit browsers (Chrome, Safari, Edge) */
input[type="date"]::-webkit-calendar-picker-indicator {
  filter: var(--date-picker-icon-filter);
  cursor: pointer;
  opacity: 0.8;
}

input[type="date"]::-webkit-calendar-picker-indicator:hover {
  opacity: 1;
}

/* Date picker text styling */
input[type="date"]::-webkit-datetime-edit {
  color: var(--color-text-primary) !important;
}

input[type="date"]::-webkit-datetime-edit-fields-wrapper {
  background-color: transparent !important;
}

input[type="date"]::-webkit-datetime-edit-text {
  color: var(--color-text-secondary) !important;
}

input[type="date"]::-webkit-datetime-edit-month-field,
input[type="date"]::-webkit-datetime-edit-day-field,
input[type="date"]::-webkit-datetime-edit-year-field {
  color: var(--color-text-primary) !important;
  background-color: transparent !important;
}

/* Force dark theme for date picker popup in supported browsers */
.dark-theme input[type="date"] {
  color-scheme: dark !important;
}

.light-theme input[type="date"] {
  color-scheme: light !important;
}

/* ===== DROPDOWN THEMING ===== */
.dropdown-menu {
  background-color: var(--color-background) !important;
  border-color: var(--color-border) !important;
}

.dropdown-item {
  color: var(--color-text-primary) !important;
  background-color: transparent !important;
}

.dropdown-item:hover,
.dropdown-item:focus {
  background-color: var(--color-background-secondary) !important;
  color: var(--color-text-primary) !important;
}

.dropdown-item:active {
  background-color: var(--color-background-tertiary) !important;
  color: var(--color-text-primary) !important;
}

.dropdown-divider {
  border-color: var(--color-border) !important;
}

/* ===== SPINNER THEMING ===== */
.spinner-border {
  color: var(--color-primary) !important;
}

/* ===== MODAL THEMING ===== */
.modal-content {
  background-color: var(--color-background) !important;
  border-color: var(--color-border) !important;
}

.modal-header {
  border-color: var(--color-border) !important;
}

.modal-footer {
  border-color: var(--color-border) !important;
}

.modal-title {
  color: var(--color-text-primary) !important;
}

/* ===== CARD THEMING ===== */
.card {
  background-color: var(--color-background) !important;
  border-color: var(--color-border) !important;
}

.card-header {
  background-color: var(--color-background-secondary) !important;
  border-color: var(--color-border) !important;
}

.card-body {
  color: var(--color-text-primary) !important;
}

/* ===== TABLE THEMING ===== */
.table {
  color: var(--color-text-primary) !important;
}

.table-striped > tbody > tr:nth-of-type(odd) > td,
.table-striped > tbody > tr:nth-of-type(odd) > th {
  background-color: var(--color-background-secondary) !important;
}

/* ===== BODY AND HTML THEMING ===== */
/* Override Bootstrap's default body background */
html {
  height: 100%;
  margin: 0;
  background-color: var(--color-background) !important;
  color: var(--color-text-primary) !important;
}

/* Set color scheme for native browser controls */
.dark-theme {
  color-scheme: dark;
}

.light-theme {
  color-scheme: light;
}

body {
  height: 100%;
  margin: 0;
  min-width: min-content;
  background-color: var(--color-background) !important;
  color: var(--color-text-primary) !important;
  --bs-body-bg: var(--color-background) !important;
  --bs-body-color: var(--color-text-primary) !important;
}

/* ===== TEXT MUTED IMPROVEMENTS ===== */
.text-muted {
  color: var(--color-text-muted) !important;
}

/* Specific styling for small muted text */
small.text-muted {
  color: var(--color-text-muted) !important;
}

/* Bootstrap card subtitle muted text */
.card-subtitle.text-muted {
  color: var(--color-text-muted) !important;
}

/* ===== TABLE IMPROVEMENTS FOR DARK MODE ===== */
.table {
  --bs-table-bg: var(--color-background) !important;
  --bs-table-striped-bg: var(--color-background-secondary) !important;
  --bs-table-hover-bg: var(--color-background-tertiary) !important;
  --bs-table-border-color: var(--color-border) !important;
  background-color: var(--color-background) !important;
  border-color: var(--color-border) !important;
}

.table th {
  background-color: var(--color-background-secondary) !important;
  color: var(--color-text-primary) !important;
  border-color: var(--color-border) !important;
}

.table td {
  color: var(--color-text-primary) !important;
  border-color: var(--color-border) !important;
}

.table-hover > tbody > tr:hover > td,
.table-hover > tbody > tr:hover > th {
  background-color: var(--color-background-tertiary) !important;
}

/* ===== SKELETON LOADER THEMING ===== */
/* Override ngx-skeleton-loader default styles with maximum specificity */
/* Target the actual generated skeleton elements */
ngx-skeleton-loader .loader,
ngx-skeleton-loader span,
ngx-skeleton-loader div,
.loader {
  background: var(--skeleton-background) !important;
  background-color: var(--skeleton-background) !important;
}

ngx-skeleton-loader .loader::after,
ngx-skeleton-loader span::after,
ngx-skeleton-loader div::after,
.loader::after {
  background: linear-gradient(90deg, transparent, var(--skeleton-animation), transparent) !important;
  background-image: linear-gradient(90deg, transparent, var(--skeleton-animation), transparent) !important;
}

/* Force override any inline styles */
ngx-skeleton-loader[style] .loader,
ngx-skeleton-loader[style] span,
ngx-skeleton-loader[style] div {
  background: var(--skeleton-background) !important;
  background-color: var(--skeleton-background) !important;
}

ngx-skeleton-loader[style] .loader::after,
ngx-skeleton-loader[style] span::after,
ngx-skeleton-loader[style] div::after {
  background: linear-gradient(90deg, transparent, var(--skeleton-animation), transparent) !important;
  background-image: linear-gradient(90deg, transparent, var(--skeleton-animation), transparent) !important;
}
